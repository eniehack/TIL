= 関数

== アリティ

引数の数のこと。Elixirでは同じ関数であってもアリティの数によって動きが違ってくることがあるので注意する。 `関数名/アリティ` のように書きわけすることが多い。

== 無名関数

* 無名関数は<<anon-func-1.ex>>のように書く

.anon-func-1.ex
[source, elixir]
----
sum = fn (a, b) -> a + b end
// fn (引数) -> 処理 end
----

* <<.anon-func-2.ex>>のように無名関数を使用できる

.anon-func-2.ex
[source, elixir]
----
sum.(1,2) // -> 3
(fn (a, b) -> a + b end).(1,2) // -> 3
// 無名変数.(引数)
----

* 無名関数はキャプチャ演算子 `&` を用いて<<anon-func-3.ex>のように>簡単に書くことができる。
** その際の引数は `&1,&2,&3` のように `&{int連番}` のようにする

.anon-func-3.ex
[source, elixir]
----
sum = &(&1 + &2)
sum.(3,4) // = 7
(&(&1 + &2)).(3,4) // = 7
----

* 無名関数内と外の変数は干渉しない(クロージャ)